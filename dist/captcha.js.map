{"version":3,"file":"captcha.js","sources":["../src/captcha.ts"],"sourcesContent":[null],"names":["API_URL","MAX_ITERATIONS","TIMEOUT_MS","ENDPOINTS","IFRAME_MESSAGE_TYPES","ACTION","activeAction","checkbox","powWorker","sendMessageToLoader","event","data","window","parent","postMessage","type","cid","__SWETRIX_CAPTCHA_ID","activateAction","action","statusDefault","document","querySelector","statusFailure","statusComputing","actions","failure","completed","loading","_a","classList","add","_b","remove","_c","_d","_e","requestAnimationFrame","setLifetimeTimeout","setTimeout","TOKEN_EXPIRED","CAPTCHA_TOKEN_LIFETIME","verifySolution","async","challenge","nonce","solution","response","fetch","method","headers","body","JSON","stringify","pid","__SWETRIX_PROJECT_ID","ok","Error","json","success","token","e","FAILURE","solveInMainThread","challengeStr","difficulty","startTime","Date","now","sha256","message","TextEncoder","encode","hashBuffer","crypto","subtle","digest","Array","from","Uint8Array","map","b","toString","padStart","join","hasValidPrefix","hash","diff","i","console","error","input","SUCCESS","addEventListener","captchaComponent","branding","stopPropagation","generateChallenge","Promise","resolve","reject","terminate","Worker","then","catch","onmessage","reason","errorData","warn","onerror","solveChallenge"],"mappings":"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"}