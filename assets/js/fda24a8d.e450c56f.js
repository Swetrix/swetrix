"use strict";(globalThis.webpackChunk_swetrix_docs=globalThis.webpackChunk_swetrix_docs||[]).push([[4289],{3894(e,t,n){n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>g,default:()=>y,frontMatter:()=>o,metadata:()=>l,toc:()=>p});var a=n(8168),r=(n(6540),n(5680)),i=n(6025);const o={title:"Google Tag Manager",slug:"/gtm-integration"},g=void 0,l={unversionedId:"integrations/google-tag-manager",id:"integrations/google-tag-manager",title:"Google Tag Manager",description:"You can use Google Tag Manager to add the Swetrix tracking script to your website.",source:"@site/docs/integrations/google-tag-manager.md",sourceDirName:"integrations",slug:"/gtm-integration",permalink:"/gtm-integration",draft:!1,editUrl:"https://github.com/swetrix/docs/edit/main/docs/integrations/google-tag-manager.md",tags:[],version:"current",frontMatter:{title:"Google Tag Manager",slug:"/gtm-integration"},sidebar:"docs",previous:{title:"Python Django",permalink:"/django-integration"},next:{title:"SvelteKit",permalink:"/sveltekit-integration"}},s={},p=[{value:"Installation (Swetrix Loader tag)",id:"installation-swetrix-loader-tag",level:2},{value:"Set up (Swetrix Configuration tag)",id:"set-up-swetrix-configuration-tag",level:2},{value:"Check your installation",id:"check-your-installation",level:2}],c={toc:p};function y({components:e,...t}){return(0,r.yg)("wrapper",(0,a.A)({},c,t,{components:e,mdxType:"MDXLayout"}),(0,r.yg)("p",null,"You can use Google Tag Manager to add the Swetrix tracking script to your website."),(0,r.yg)("h2",{id:"installation-swetrix-loader-tag"},"Installation (Swetrix Loader tag)"),(0,r.yg)("ol",null,(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Sign in to your Google Tag Manager account, click on ",(0,r.yg)("strong",{parentName:"p"},"Tags")," and then ",(0,r.yg)("strong",{parentName:"p"},"New"),"."),(0,r.yg)("img",{alt:"Creating a new tag",src:(0,i.A)("img/integrations/gtm/gtm-1.png")})),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Under the ",(0,r.yg)("strong",{parentName:"p"},"Tag Configuration"),' section, click on "Choose a tag type to begin set-up...".'),(0,r.yg)("img",{alt:"Tag Configuration",src:(0,i.A)("img/integrations/gtm/gtm-2.png")})),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Select ",(0,r.yg)("strong",{parentName:"p"},"Custom HTML")),(0,r.yg)("img",{alt:"Custom HTML",src:(0,i.A)("img/integrations/gtm/gtm-3.png")})),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"In the HTML input field, paste the following code:"))),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-html"},'<script src="https://swetrix.org/swetrix.js" defer><\/script>\n')),(0,r.yg)("p",null,"This code is responsible for loading the Swetrix script into your website. We will configure the tracking script later in this tutorial."),(0,r.yg)("ol",{start:5},(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Under ",(0,r.yg)("strong",{parentName:"p"},"Triggering"),' section, click on "Choose a trigger to mage this tag fire..." and select ',(0,r.yg)("strong",{parentName:"p"},"All pages")," (or alternatively, you can filter the pages you want Swetrix to be enabled on as well).")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},'Give your tag a name, change "Untitled Tag" to something like ',(0,r.yg)("strong",{parentName:"p"},"Swetrix Loader"),". The result should look like this:"),(0,r.yg)("img",{alt:"Final result",src:(0,i.A)("img/integrations/gtm/gtm-4.png")})),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Click on the ",(0,r.yg)("strong",{parentName:"p"},"Save")," button."))),(0,r.yg)("h2",{id:"set-up-swetrix-configuration-tag"},"Set up (Swetrix Configuration tag)"),(0,r.yg)("p",null,"After you verified that the loader tag looks fine, you will need to create another tag. The purpose of the second tag is to configure the tracking script you installed before. If you do not create the second tag, Swetrix will not track your analytics events."),(0,r.yg)("ol",null,(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Go to the ",(0,r.yg)("strong",{parentName:"p"},"Tags")," again and click on ",(0,r.yg)("strong",{parentName:"p"},"New"),".")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Under the ",(0,r.yg)("strong",{parentName:"p"},"Tag Configuration"),' section, click on "Choose a tag type to begin set-up...".')),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Select ",(0,r.yg)("strong",{parentName:"p"},"Custom HTML"),".")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"In the HTML input field, paste the following code:"))),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-html"},"<script>\n  if (document.readyState !== 'loading') {\n    swetrixInit()\n  } else {\n    document.addEventListener('DOMContentLoaded', swetrixInit)\n  }\n\n  function swetrixInit() {\n    // Here you can configure Swetrix for your needs\n    swetrix.init('YOUR_PROJECT_ID')\n    swetrix.trackViews()\n  }\n<\/script>\n")),(0,r.yg)("admonition",{type:"caution"},(0,r.yg)("p",{parentName:"admonition"},"Don't forget to replace ",(0,r.yg)("inlineCode",{parentName:"p"},"YOUR_PROJECT_ID")," with your actual Project ID you can find in the Dashboard, otherwise tracking won't work.\nYou can also refer to our detailed ",(0,r.yg)("a",{parentName:"p",href:"/swetrix-js-reference"},"tracking script reference")," for more advanced configuration.")),(0,r.yg)("ol",{start:5},(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},'Give your tag a name, change "Untitled Tag" to something like ',(0,r.yg)("strong",{parentName:"p"},"Swetrix Configuration"),".")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Under the ",(0,r.yg)("strong",{parentName:"p"},"Tag Configuration")," section, click on ",(0,r.yg)("strong",{parentName:"p"},"Advanced Settings")," and then ",(0,r.yg)("strong",{parentName:"p"},"Tag Sequencing"),". Click on the ",(0,r.yg)("strong",{parentName:"p"},"Fire a tag before Swetrix Configuration fires")," and select ",(0,r.yg)("strong",{parentName:"p"},"Swetrix Loader")," (the tag we've set up before)."),(0,r.yg)("img",{alt:"Configuration tag setup",src:(0,i.A)("img/integrations/gtm/gtm-5.png")})),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},'Click on "Don\'t fire Swetrix Configuration if Swetrix Loader fails or is paused". Setting this up will make sure that Swetrix config will execute after the tracking script has loaded.')),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Under ",(0,r.yg)("strong",{parentName:"p"},"Triggering"),' section, click on "Choose a trigger to mage this tag fire..." and select ',(0,r.yg)("strong",{parentName:"p"},"All pages"),".")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Click on the ",(0,r.yg)("strong",{parentName:"p"},"Save")," button.")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Click on the ",(0,r.yg)("strong",{parentName:"p"},"Submit")," button on the top right corner of the page.")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Then click the ",(0,r.yg)("strong",{parentName:"p"},"Publish")," button to apply newly created tags."))),(0,r.yg)("h2",{id:"check-your-installation"},"Check your installation"),(0,r.yg)("p",null,"After setting up the Swetrix analytics tag, go to your website and visit some pages."),(0,r.yg)("p",null,"Within a minute you should be able to see new pageviews being added to your project's dahsboard."),(0,r.yg)("admonition",{type:"note"},(0,r.yg)("p",{parentName:"admonition"},"Google Tag Manager adds extra complexity to your website. The Swetrix tracking script is lightweight in itself and it's recommended to use it directly. Also, GTM is blocked by many adblockers, so using it may be less reliable.")))}y.isMDXComponent=!0},5680(e,t,n){n.d(t,{xA:()=>p,yg:()=>m});var a=n(6540);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function g(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),s=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=s(e.components);return a.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},y=a.forwardRef(function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,p=g(e,["components","mdxType","originalType","parentName"]),y=s(n),m=r,u=y["".concat(l,".").concat(m)]||y[m]||c[m]||i;return n?a.createElement(u,o(o({ref:t},p),{},{components:n})):a.createElement(u,o({ref:t},p))});function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=y;var g={};for(var l in t)hasOwnProperty.call(t,l)&&(g[l]=t[l]);g.originalType=e,g.mdxType="string"==typeof e?e:r,o[1]=g;for(var s=2;s<i;s++)o[s]=n[s];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}y.displayName="MDXCreateElement"}}]);