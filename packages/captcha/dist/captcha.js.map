{"version":3,"file":"captcha.js","sources":["../src/i18n.ts","../src/logger.ts","../src/captcha.ts"],"sourcesContent":[null,null,null],"names":["SUPPORTED_LOCALES","DEFAULT_LOCALE","translations","en","iAmHuman","verificationFailed","verifying","ariaCheckbox","ariaVerifying","ariaSuccess","ariaFailed","srLoading","srSuccess","srFailed","ariaProgress","de","fr","pl","uk","normalizeLocale","locale","primary","toLowerCase","split","includes","isSupportedLocale","PREFIX","logger","args","console","log","error","warn","isDevelopment","window","__SWETRIX_CAPTCHA_DEV","DEFAULT_API_URL","API_URL","__SWETRIX_API_URL","WORKER_URL","MAX_ITERATIONS","TIMEOUT_MS","ENDPOINTS","IFRAME_MESSAGE_TYPES","ACTION","activeAction","checkbox","powWorker","currentLocale","lang","URLSearchParams","location","search","get","navigator","languages","language","normalized","startsWith","detectBrowserLocale","getLocaleFromUrl","t","sendMessageToLoader","event","data","parent","postMessage","type","cid","__SWETRIX_CAPTCHA_ID","updateProgressBar","progress","progressBarContainer","document","querySelector","progressBar","classList","add","style","width","setAttribute","removeAttribute","remove","setTimeout","Math","min","String","round","updateAriaState","action","captchaComponent","loading","completed","failure","srStatus","textContent","activateAction","statusDefault","statusFailure","statusComputing","actions","_a","_b","_c","_d","_e","requestAnimationFrame","setLifetimeTimeout","TOKEN_EXPIRED","CAPTCHA_TOKEN_LIFETIME","verifySolution","async","challenge","nonce","solution","response","fetch","method","headers","body","JSON","stringify","pid","__SWETRIX_PROJECT_ID","ok","Error","json","success","token","reason","FAILURE","calculateProgress","attempts","difficulty","rawProgress","pow","sqrt","solveInMainThread","challengeStr","startTime","Date","now","sha256","message","TextEncoder","encode","hashBuffer","crypto","subtle","digest","Array","from","Uint8Array","map","b","toString","padStart","join","hasValidPrefix","hash","diff","i","input","SUCCESS","handleCaptchaActivation","generateChallenge","Promise","resolve","reject","terminate","Worker","then","catch","onmessage","onerror","solveChallenge","addEventListener","branding","documentElement","applyTranslations","e","stopPropagation","keyboardEvent","key","preventDefault"],"mappings":"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"}